# GA4 Analytics MCP Server - Production Environment Configuration
# =================================================================

# REQUIRED: Google Analytics 4 Configuration
# -------------------------------------------
GA4_PROPERTY_ID=your_ga4_property_id_here
GOOGLE_APPLICATION_CREDENTIALS=/app/config/service-account.json
# OR use individual service account fields:
# GOOGLE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
# GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
# GOOGLE_PROJECT_ID=your-google-cloud-project-id

# Core Application Settings
# --------------------------
NODE_ENV=production
MCP_SERVER_PORT=3000
MCP_SERVER_HOST=0.0.0.0

# HTTP Health Check Server
# -------------------------
HEALTH_CHECK_PORT=3003
HEALTH_CHECK_HOST=0.0.0.0
ENABLE_HEALTH_METRICS=true
ENABLE_HEALTH_DIAGNOSTICS=false

# Production Logging Configuration
# ---------------------------------
LOG_LEVEL=info
LOG_DIR=/app/logs
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE=100mb
LOG_MAX_FILES=10
ENABLE_CORRELATION_LOGGING=true
ENABLE_REQUEST_LOGGING=true
ENABLE_GA4_LOGGING=true
ENABLE_AUTH_LOGGING=true
ENABLE_HEALTH_LOGGING=true

# Performance and Scaling Settings
# ---------------------------------
NODE_OPTIONS=--max-old-space-size=1024
UV_THREADPOOL_SIZE=4
ENABLE_REQUEST_TIMEOUT=true
REQUEST_TIMEOUT=30000
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# Connection Pooling and Caching
# -------------------------------
ENABLE_CONNECTION_POOLING=true
CONNECTION_POOL_SIZE=10
CONNECTION_TIMEOUT=30000
ENABLE_RESPONSE_CACHING=true
CACHE_TTL=300000

# Production Cache Configuration
# -------------------------------
CACHE_MAX_ENTRIES=2000
CACHE_COMPRESSION=true
CACHE_COMPRESSION_THRESHOLD=1024
CACHE_PERSISTENCE=false
CACHE_WARMING=true
CACHE_ANALYTICS=true
CACHE_OPTIMIZATION=true
CACHE_STALE_WHILE_REVALIDATE=true
CACHE_STALE_TIMEOUT=60000

# Cache TTL Strategies by Data Type
# ----------------------------------
CACHE_GA4_REPORT_TTL=600000
CACHE_GA4_REALTIME_TTL=30000
CACHE_GA4_TRAFFIC_TTL=900000
CACHE_GA4_DEMOGRAPHICS_TTL=1800000
CACHE_GA4_CONVERSIONS_TTL=1200000
CACHE_HEALTH_TTL=60000
CACHE_AUTH_TTL=3300000

# Monitoring and Observability
# -----------------------------
ENABLE_APM_MONITORING=true
ENABLE_ERROR_TRACKING=true
ENABLE_HEALTH_DASHBOARD=true
ENABLE_GA4_METRICS=true
ENABLE_PERFORMANCE_MONITORING=true

# Security Settings
# -----------------
ENABLE_CORS=true
CORS_ORIGIN=*
CORS_CREDENTIALS=false
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,HEAD
CORS_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,Cache-Control
CORS_EXPOSED_HEADERS=Content-Length,Content-Range,X-Content-Range
CORS_MAX_AGE=86400

# Security Headers
# -----------------
ENABLE_CSP=true
CSP_REPORT_ONLY=false
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=false
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=true
X_XSS_PROTECTION=true
XSS_PROTECTION_MODE=block
REFERRER_POLICY=strict-origin-when-cross-origin

# Rate Limiting & DDoS Protection
# --------------------------------
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000
RATE_LIMIT_MAX_PER_IP=100
RATE_LIMIT_WHITELIST=127.0.0.1,::1,localhost
RATE_LIMIT_BAN_DURATION=3600000
ENABLE_DDOS_PROTECTION=true
DDOS_MAX_REQUESTS_PER_MINUTE=200
DDOS_BAN_DURATION=1800000
DDOS_ALERT_THRESHOLD=500
DDOS_AUTO_BLOCK=true
DDOS_RESPONSE_DELAY=true
DDOS_RESPONSE_DELAY_MS=1000

# Legacy Security Settings
ENABLE_HELMET=true
ENABLE_REQUEST_VALIDATION=true

# Railway Deployment Settings
# ----------------------------
# These are typically set by Railway automatically
# PORT=3000
# RAILWAY_DEPLOYMENT_ID=deployment_id
# RAILWAY_PROJECT_ID=project_id
# RAILWAY_SERVICE_ID=service_id
# RAILWAY_ENVIRONMENT_ID=environment_id

# Optional: Custom Domain Settings
# ---------------------------------
# CUSTOM_DOMAIN=your-custom-domain.com
# SSL_CERTIFICATE_PATH=/app/ssl/cert.pem
# SSL_PRIVATE_KEY_PATH=/app/ssl/key.pem

# Optional: Database Configuration (if needed in future)
# -------------------------------------------------------
# DATABASE_URL=postgresql://user:password@host:port/database
# DATABASE_MAX_CONNECTIONS=20
# DATABASE_IDLE_TIMEOUT=30000
# DATABASE_CONNECTION_TIMEOUT=2000

# Optional: Redis Configuration (if needed for caching)
# ------------------------------------------------------
# REDIS_URL=redis://user:password@host:port
# REDIS_MAX_RETRIES=3
# REDIS_RETRY_DELAY=1000

# Optional: External API Configurations
# --------------------------------------
# WEBHOOK_URL=https://your-webhook-url.com/webhook
# NOTIFICATION_EMAIL=alerts@yourcompany.com
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# Development & Testing Overrides
# --------------------------------
# Uncomment these for staging/testing environments
# LOG_LEVEL=debug
# ENABLE_HEALTH_DIAGNOSTICS=true
# ENABLE_DEBUG_LOGGING=true